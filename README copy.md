# Дипломное задание к курсу «Продвинутый JavaScript в браузере». Chaos Organizer
---

###### tags: `netology` `advanced js in html`

[![Build status](https://ci.appveyor.com/api/projects/status/25hw0a8fgfrdh7xq?svg=true)](https://ci.appveyor.com/project/darknessdizi/javascript-26-coursework-fronted)

## Backend

Ссылка на git-hub репозиторий (backend): https://github.com/darknessdizi/JavaScript_26_coursework_backend.git

Ссылка сервера на render: https://dashboard.render.com/web/srv-cpj09ckf7o1s73bo5oh0

---

## Fronted

Ссылка на git-hub репозиторий (fronted): https://github.com/darknessdizi/JavaScript_26_coursework_fronted.git

Ссылка на страницу: https://darknessdizi.github.io/JavaScript_26_coursework_fronted/

---

## Реализованы функции:
<details>
<summary>Обязательные (по заданию)</summary>

1. Сохранение в истории ссылок и текстовых сообщений.
   - Напишите свое сообщение в поле ввода (пункт 1 на рисунке) и нажмите "Enter". Оно будет сохранено на сервере и добавлено в поле приложения (пункт 2 на рисунке).
   - При перезапуске страницы приложения все сохраненные на сервере сообщения автоматически будут подгружены в чат приложения (пункт 2 на рисунке).
   - Репозиторий [сервера](https://github.com/darknessdizi/JavaScript_26_coursework_backend.git)
  ![Ссылки](/pic/screen1.png)

2. Ссылки (`http://` или `https://`) должны быть кликабельны и отображаться, как ссылки.
   - Ссылки сохраненные в чате являются кликабельными и отображаются, как ссылки (пункт 1 на рисунке). При нажатии на них курсором мыши Вас переадресуют по адресу ссылки.
  ![Ссылки](/pic/screen2.png)

3. Сохранение в истории изображений, видео и аудио (как файлов) — через Drag & Drop и через иконку загрузки.
   - Нажатие на иконку скрепка (пункт 1 на рисунке 1) открывает поле для выбора файлов (пункт 2 на рисунке 1).
   - Выбрать можно 1 файл или несколько за один раз (пункт 3 на рисунке 1). Нажав кнопку открыть в поле ввода (пункт 3 на рисунке 1), приложение отправит запрос на сервер для сохранения выбранных файлов на сервере. При успешном сохранении файлы будут добавлены в приложение.
   - Файлы можно добавлять в приложение так же через Drag & Drop (пункт 4 на рисунке 1).
  ![files](/pic/screen3.png)
   - Ограничений по типу добавляемых файлов нет (пункт 1 на рисунке 2). Приложение определяет добавленные файлы по 4 типам (image, video, audio, files). Если добавленный файл не попадает под тип ***image, video, audio***, он будет добавлен в приложение, как тип ***files*** (пункт 2 на рисунке 2).
  ![files](/pic/screen4.png)

4. Скачивание файлов на компьютер пользователя.
   - Скачивание аудио и видео можно осуществить через браузерные ссылки (пункт 1 на рисунке 1). При нажатии на данные иконки, откроется меню загрузки файлов (пункт 1 на рисунке 2).
  ![links](/pic/screen5.png)
   - Так же скачивание файлов можно осуществить через иконку загрузки (пункт 2 на рисунке 2). Данная иконка имеется у всех файлов, кроме текстовых сообщений.
  ![links](/pic/screen6.png)

5. Ленивая подгрузка: сначала подгружаются последние 10 сообщений, при прокрутке вверх подгружаются следующие 10 и т. д.
   - Реализована "ленивая подгрузка". При получении данных от сервера, приложение отобразит только последние 10 сообщений.
   - Положение скрола при этом переместится максимально вниз (пункт 1 на рисунке 1).
  ![scroll](/pic/screen7.png)
   - Если скрол поднимется вверх до максимального значения (пункт 1 на рисунке 2) и имеются файлы для отображения в памяти приложения, тогда будет произведена подгрузка еще 10 файлов и т.д. Скролл при этом будет удерживать свою позицию напротив просматриваемого файла (пункт 2 на рисунке 2).
  ![scroll](/pic/screen9.png)
  ![scroll](/pic/screen8.png)

</details>

<details>
<summary>Дополнительные (на выбор)</summary>

1. Синхронизация: если приложение открыто в нескольких окнах или вкладках, то контент должен быть синхронизирован.
    - Реализована синхронизация контента. При открытии нескольких страниц, если добавить сообщение, удалить его или изменить статус сообщения, это изменение отобразится на всех страницах.
    - Исключение составляет, если окно открыто в режиме отображения избранных сообщений. В этом случае, синхронизация между окнами в данном окне будет касаться только изменений связанных с сообщениями имеющими статус избранное. 
  
2. Запись видео и аудио, используя API браузера.
    - Нажав на иконку микрофона или видеокамеры (пункт 1 на рисунке 1) приложение произведет подключение к Вашим медиа-устройствам. Если подключение производится в первый раз, тогда браузер запросит разрешение (пункт 2 на рисунке 1) или блокировку (пункт 3 на рисунке 1). Само приложение будет находится в готовности к записи медиапотока (пункт 4 на рисунке 1). 
  ![media](/pic/screen10.png)
   Получив разрешение на использование медиа-устройств, приложение начнет запись медиапотока (пункт 5 на рисунке 2 для audio).
  ![media](/pic/screen13.png)
  (пункт 6 на рисунке 3 для video)
  ![media](/pic/screen14.png)
    - Если заблокировать медиа-устройство или оно не исправно (отсутсвует подключение). Приложение проинформирует об этом вызвав модальное окно в зависимости от типа неподключенного устройства (пункт 1 на рисунке 4).
  ![media](/pic/screen11.png)
  (пункт 2 на рисунке 5).
  ![media](/pic/screen12.png)
   - Нажав кнопку ОК при записи медиапотока. Запись остановится и приложение отправит файл на сервер для его сохранения. При успешном сохранении файла на сервере оно будет добавлено в чат приложения (пункт 5 на рисунке 6). 
  ![media](/pic/screen15.png)

3. Отправка геолокации.
    - Приложение предусматривает использование геолокации. При первом отправлении сообщения, появится запрос от браузера на использование геолокации (пункт 1 на рисунке 1).
  ![geolocation](/pic/screen16.png)
    - Если разрешить приложению использовать геолокацию, то при отправке сообщений приложене будет получать Ваши координаты от браузера и отображать их в нижней части сообщения автоматически (пункт 4 на рисунке 2).
  ![geolocation](/pic/screen19.png)
    - Если браузер не может нам предоставить координаты или пользователь запретил браузеру определять местоположение, появится модальное окно запрашивающее прописать координаты вручную (пункт 2 на рисунке 3).
  ![geolocation](/pic/screen17.png)
    - Если пользователь введет координаты вручную не по образцу или это будут не координаты, тогда модальное окно покажет ошибку (пункт 3 на рисунке 4).
  ![geolocation](/pic/screen18.png)

4. Воспроизведение видео/аудио, используя API браузера.
    - Добавленные видео и аудио сообщения можно просматривать непосредственно в чате. Для этого можно использовать кнопки управления на соответствующих файлах (пункт 1 на рисунке 1).
  ![look](/pic/screen20.png)
   
5. Добавление сообщения в избранное, должен быть интерфейс для просмотра избранного.
    - 
   
6. Просмотр вложений по категориям: аудио, видео, изображения, другие файлы (см. боковое меню Telegram).
   
7. Поддержка смайликов (emoji).

</details>
